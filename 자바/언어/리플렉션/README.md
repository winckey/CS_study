Reflectionì´ë€?

ğŸ’¡Reflection : classíƒ€ì… ê°ì²´ ìƒì„± í›„ í™ ì˜ì—­ì— ì €ì¥

- ì¥ì 
   - ëŸ°íƒ€ì„ ì‹œì  ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ì ‘ê·¼ì œì–´ìì— ê´€ê³„ì—†ì´ ì‘ì—… ìˆ˜í–‰ê°€ëŠ¥
- ë‹¨ì 
   - ìº¡ìŠí™”ì— ìœ„ë°°ëœë‹¤.
   - ëŸ°íƒ€ì„ ë™ì‘ - > ì»´íŒŒì¼ëŸ¬ ì—ëŸ¬ê°€ ì—†ë‹¤.
   
ğŸ’¡ì‚¬ìš©
 - ë¹ˆë“±ë¡ì‹œ ë¹ˆíŒ©í† ë¦¬ì— ì§ì ‘ ë“±ë¡í•˜ì§€ ì•Šì•„ë„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì ‘ê·¼ì œì–´ìì— ê´€ê³„ ì—†ì´ ë“±ë¡ê°€ëŠ¥

êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ íƒ€ì…ì„ ì•Œì§€ ëª»í•´ë„ ê·¸ í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œ, íƒ€ì…, ë³€ìˆ˜ë“¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ìë°” API

ëŸ°íƒ€ì„ì— ì§€ê¸ˆ ì‹¤í–‰ë˜ê³  ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ì‹¤í–‰í•´ì•¼í•˜ëŠ” ê²½ìš°

ë™ì ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•

ìë°”ì˜ ë¦¬í”Œë ‰ì…˜ì€ í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤, ë©”ì†Œë“œë“¤ì„ ì°¾ì„ ìˆ˜ ìˆê³ , ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.


ì–´ë–¤ ê²½ìš°ì— ì‚¬ìš©ë˜ë‚˜?

ì½”ë“œë¥¼ ì‘ì„±í•  ì‹œì ì—ëŠ” ì–´ë–¤ íƒ€ì…ì˜ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í• ì§€ ëª¨ë¥´ì§€ë§Œ, ëŸ°íƒ€ì„ ì‹œì ì— ì§€ê¸ˆ ì‹¤í–‰ë˜ê³  ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°

í”„ë ˆì„ì›Œí¬ë‚˜ IDEì—ì„œ ì´ëŸ° ë™ì ì¸ ë°”ì¸ë”©ì„ ì´ìš©í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. intelliJì˜ ìë™ì™„ì„± ê¸°ëŠ¥, ìŠ¤í”„ë§ì˜ ì–´ë…¸í…Œì´ì…˜ì´ ë¦¬í”Œë ‰ì…˜ì„ ì´ìš©í•œ ê¸°ëŠ¥ì´ë‹¤.
-> intelliJ ìë™ì™„ì„± ê¸°ëŠ¥ì€ ì•Œê±°ê°™ì€ë° ì–´ë…¸í…Œì´ì…˜ì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì˜ ëª¨ë¥´ê² ë‹¤... ì–´ë…¸í…Œì´ì…˜ì„ í•™ìŠµí•´ë´ì•¼ ì•Œ ìˆ˜ ìˆì„ë“¯í•˜ë‹¤.


Java Reflection ì‚¬ìš© ì‹¤ìŠµ
Personì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•´ë³´ì.

class Person {
    int age;

    Person() {
        this.age = 27;
    }

    Person(int age) {
        this.age = age;
    }

    int getAge() {
        return this.age;
    }
}
ìƒì„±ì ì°¾ê¸°
getDeclaredConstructor()ë¥¼ ì´ìš©í•´ í´ë˜ìŠ¤ë¡œë¶€í„° ìƒì„±ìë¥¼ ê°€ì ¸ì˜¬ìˆ˜ ìˆë‹¤.

Class clazz = Class.forName("Person");
Constructor constructor = clazz.getDeclaredConstructor();
getDeclaredConstructor()ëŠ” ì¸ìê°€ ì—†ëŠ” ìƒì„±ìë¥¼ ê°€ì ¸ì˜¨ë‹¤.


Method ì°¾ê¸°

Class clazz = Person.class;
Method[] methodList = clazz.getDeclaredMethods();    
System.out.println(methods[0].invoke(clazz.newInstance())) // 27ì´ ì¶œë ¥ë¨
invoke() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ Method ê°ì²´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì²«ë²ˆì§¸ ì¸ìëŠ” í˜¸ì¶œí•˜ë ¤ëŠ” ê°ì²´, ë‘ë²ˆì§¸ ì¸ìëŠ” ì „ë‹¬í•  íŒŒë¼ë¯¸í„° ê°’ì„ ì¤€ë‹¤.


Field ë³€ê²½

Class clazz = Person.class;
Field[] field = clazz.getDeclaredFields();
System.out.println(field[0]);   // ì¶œë ¥ : int reflection_test.Person.age
í•„ë“œ ê°€ì ¸ì˜¤ê¸°

Class clazz = Person.class;
Field[] field = clazz.getDeclaredFields();

Person person = new Person();
field[0].set(person, 17);
System.out.println(field[0].get(person));  // 17ì´ ì¶œë ¥ë¨ 
set() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ê°ì²´ì˜ ë³€ìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.


ì´ì™¸ì—ë„ ë¦¬í”Œë ‰ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆì§€ë§Œ, ë¸”ë¡œê·¸ë¥¼ ë³´ê³  ê°„ë‹¨í•˜ê²Œ ë‚˜ë§Œì˜ ì‹¤ìŠµì„ í•´ë³´ì•˜ë‹¤. ë” ìì„¸í•œ ë‚´ìš©ì€ í•„ìš”í• ë•Œ ë¸”ë¡œê·¸ ì°¸ê³ í•´ì„œ ê³µë¶€í•´ë³´ì. ì´ë²ˆì—” ë¦¬í”Œë ‰ì…˜ì´ ë¬´ì—‡ì¸ì§€ ì´í•´í•˜ëŠ”ê²Œ ëª©ì .