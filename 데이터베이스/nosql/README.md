NO SQL(Not only SQL)
https://newehblog.tistory.com/38?category=834445
https://hamait.tistory.com/197- 여기가 이해잘댐

정의 : 관계형 데이터 모델을 지양 하며 대량의 분산된 데이터를 저장하고 조회하는 데 특화되었으며 스키마 없이 사용 가능하거나 느슨한 스키마를 제공하는 저장소를 말한다.

사용이유 : 관계형 데이터 모델은 서버 확장시 확장에 불리하다. 수직적 확장만 가능하고 수평적 확장은 불가능하기 때문

수직적 확장 : DB서버 자체 크기를 늘림
수평적 확장 : DB서버의 개수를 늘림

몇몇 데이터베이스는 클러스터링 기능을 이용하여 관계형 데이터 베이스의 한계를 벗어나려함
(하지만 완벽한 관계형 데이터 베이스의 의미는 잃어버림(스키마있는 NOSQL) )


CAP 이론
에초에 NOSQL을 확장성을 위한 등장임 
일관성 / 가용성 / 허용성 은 데이터베이스의 백업저장(중복저장) , 분산 저장( 한테이블을 서로다른 서버에저장 )을고려한 특징을 설명함 



CAP 정리에 의하면 시스템은 일관성(Consistency), 가용성(Availablity), 분단 허용성(Partition torlerance) 세 가지 속성중에서, 두 가지만 가질 수 있다는 것이다.

위의 그림에서 볼 수 있듯이, Consistency, Availablity를 합치면, CA 또는 Consistency와 Partition tolerance를 조합하면 AP가 된다.

이 모든 속성을 다 포함한 시스템은 절대로 존재할 수 없다는 것이 CAP 정리이다.


관계형 데이터베이스는 CA 시스템이다. 일관성(C)와 가용성(A)를 보장하되, 분단 허용성(P)는 보장하지 않는다
대부분의 NoSQL 데이터베이스는 CA가 아닌 CP나 AP 시스템이다. 

일관성 : 서로 다른사람이 A DB와 B DB(중복저장)에서 데이터를 조회하더라도 같은 값을 볼수 있어야함
A값변동이 일어 날 때 B를 조회 하려하면 A 트랜젝션이 끝나고 업데이트 될 때까지 LOOK되어 기다려야함

가용성 : A 와 B 중 어느 하나가 고장나더라도 서비는 동작해야함

예시) 이거보면 다이해댐


*  B 라는 노드가 망가진것이 아니라, A 와 B 를 연결해주는 네트워크가 고장났습니다. 
* A 도 작동하고, B 도 작동합니다. 다만 둘간의 커뮤니케이션이 안되기때문에 둘이 동일한 데이터를 갖기 
 힘들어졌습니다. (다른 노드를 경유해서 공유를 하면 됩니다) 

만약 A 와 B 가 네트워크가 분단되어서 서로 다른 데이터가 있을때 (제 3의 노드를 통해서 일관성을 유지하지 못할때)  도연이는 A 를 , 미나는 B 디비를 사용한다면 , 둘은 서로 다른 데이터를 보게 됩니다. 즉 "일관성" 이 없어지게 됩니다. 
* "일관성" 을 지키기위해서 네트워크가 복구될때까지 기다린다면 "가용성" 이 떨어지게 됩니다. 가용성이란건 정확히 규정하는게 정해져있지 않지만 , 즉시 서비스 결과를 도연이와 미나는 받을 수 있는걸 말합니다. (실패여부라도 즉시, 여기서 즉시에 해당하는 시간은 정의에 따라서 달라집니다.)